{"version":3,"file":"index-e7edec8b.js","sources":["../src/providers/Theme/useAppTheme.ts","../src/providers/Config/Context.ts","../src/providers/Config/Provider.tsx","../src/providers/Config/useAppConfig.ts","../src/providers/Drawer/Context.ts","../src/providers/Drawer/Provider.tsx","../src/containers/PrivateRoute/PrivateRoute.tsx","../src/components/PageNotFound.tsx","../src/containers/Routes/Routes.tsx","../src/containers/AppLayout/AppLayout.tsx","../src/containers/Root/Root.tsx"],"sourcesContent":["import { useContext } from \"react\";\r\nimport Context from \"./Context\";\r\n\r\nconst useAppTheme = () => {\r\n  const theme = useContext(Context);\r\n  if (theme === undefined) {\r\n    throw new Error(\"useAppTheme must be used within a AppThemeProvider\");\r\n  }\r\n  return theme;\r\n};\r\n\r\nexport default useAppTheme;\r\n","import React from \"react\";\r\nimport config from \"config\";\r\n\r\nexport const AppConfigContext = React.createContext(config);\r\n\r\nexport default AppConfigContext;\r\n","import React, { Component } from \"react\";\r\nimport config, { AppConfig } from \"config\";\r\nimport Context from \"./Context\";\r\n\r\nclass Provider extends Component<{ appConfig: Partial<AppConfig> }> {\r\n  render() {\r\n    const { appConfig, children } = this.props;\r\n\r\n    return (\r\n      <Context.Provider value={{ ...config, ...appConfig }}>\r\n        {children}\r\n      </Context.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Provider;\r\n","import { useContext } from \"react\";\r\nimport Context from \"./Context\";\r\n\r\nconst useAppConfig = () => {\r\n  const appConfig = useContext(Context);\r\n  return appConfig;\r\n};\r\n\r\nexport default useAppConfig;\r\n","import { createContext } from \"react\";\r\n\r\nexport type Variant = \"permanent\" | \"persistent\" | \"temporary\";\r\n\r\nexport interface MenuContext {\r\n  open: boolean;\r\n  minified: boolean;\r\n  variant: Variant;\r\n  setDrawerOpen: (open: boolean) => void;\r\n  setMinified: (minified: boolean) => void;\r\n  setDrawerVariant: (variant: Variant) => void;\r\n}\r\n\r\nexport const MenuContext = createContext<MenuContext | undefined>(undefined);\r\n\r\nexport default MenuContext;\r\n","import React, { PropsWithChildren, useState } from \"react\";\r\nimport Context, { MenuContext } from \"./Context\";\r\n\r\nconst Provider = (props: PropsWithChildren<{ menu: Partial<MenuContext> }>) => {\r\n  const { menu = {}, children } = props;\r\n  const {\r\n    open: defaultDrawerOpen = true,\r\n    minified: defaultMinified = false,\r\n    variant: defaultVariant = \"permanent\"\r\n  } = menu;\r\n\r\n  const [open, setDrawerOpen] = useState(defaultDrawerOpen);\r\n  const [minified, setMinified] = useState(defaultMinified);\r\n  const [variant, setDrawerVariant] = useState(defaultVariant);\r\n\r\n  return (\r\n    <Context.Provider\r\n      value={{\r\n        open,\r\n        minified,\r\n        variant: variant,\r\n        setDrawerOpen,\r\n        setMinified,\r\n        setDrawerVariant\r\n      }}\r\n    >\r\n      {children}\r\n    </Context.Provider>\r\n  );\r\n};\r\n\r\nexport default Provider;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { AppRoute } from \"config\";\r\nimport { useAppConfig } from \"providers/Config\";\r\n\r\nconst PrivateRoute = (props: AppRoute) => {\r\n  const {\r\n    component: Component,\r\n    fallbackComponent: FallbackComponent,\r\n    ...rest\r\n  } = props;\r\n  const appConfig = useAppConfig();\r\n  const { auth } = appConfig || {};\r\n  const { isAuthenticated = () => false, signInURL = \"/signin\" } = auth || {};\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      children={routeProps =>\r\n        isAuthenticated(appConfig) ? (\r\n          <Component {...routeProps} />\r\n        ) : !!FallbackComponent ? (\r\n          <FallbackComponent {...routeProps} />\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: signInURL,\r\n              search: `from=${routeProps.location.pathname}`,\r\n              state: { from: routeProps.location }\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from \"react\";\r\n\r\nconst PageNotFound = () => <div>PageNotFound</div>;\r\n\r\nexport default PageNotFound;\r\n","import React from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport PrivateRoute from \"containers/PrivateRoute\";\r\nimport PageNotFound from \"components/PageNotFound\";\r\nimport { useAppConfig } from \"providers/Config\";\r\n\r\nexport const SignInAsync = React.lazy(() => import(\"containers/Auth\"));\r\n\r\nexport const Routes = () => {\r\n  const appConfig = useAppConfig();\r\n  const { routes, pageNotFound: NotFound = PageNotFound } = appConfig;\r\n  const { signInURL, fullContent, displaySignInPage } = appConfig.auth;\r\n  const { SignIn = SignInAsync } = appConfig.components;\r\n\r\n  return (\r\n    <Switch>\r\n      {routes.map((route, i) => {\r\n        return route.isPrivate ? (\r\n          <PrivateRoute key={i} {...route} />\r\n        ) : (\r\n          <Route\r\n            key={i}\r\n            {...route}\r\n            children={routeProps => <route.component {...routeProps} />}\r\n          />\r\n        );\r\n      })}\r\n      {displaySignInPage && !fullContent && (\r\n        <Route path={signInURL} exact>\r\n          <SignIn />\r\n        </Route>\r\n      )}\r\n      <Route>\r\n        <NotFound />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import \"react-toastify/dist/ReactToastify.css\";\r\nimport React, { ComponentType } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { ToastContainer, Slide } from \"react-toastify\";\r\nimport Routes from \"containers/Routes\";\r\nimport { useAppConfig } from \"providers/Config\";\r\nimport Analytics from \"components/Analytics\";\r\n\r\nconst DrawerAsync = React.lazy(() => import(\"containers/Drawer\"));\r\nconst AppBarAsync = React.lazy(() => import(\"containers/AppBar\"));\r\nconst FooterAsync = React.lazy<ComponentType<any>>(() =>\r\n  import(\"components/Footer\")\r\n);\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    zIndex: 1,\r\n    overflow: \"hidden\",\r\n    position: \"relative\",\r\n    display: \"flex\",\r\n    width: \"100%\",\r\n    height: \"100vh\"\r\n  },\r\n  body: {\r\n    width: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\"\r\n  },\r\n  offset: { ...theme.mixins.toolbar },\r\n  content: {\r\n    width: \"100%\",\r\n    height: \"100vh\",\r\n    padding: theme.spacing()\r\n  },\r\n  footer: {\r\n    padding: theme.spacing(),\r\n    marginTop: \"auto\",\r\n    backgroundColor:\r\n      theme.palette.type === \"light\"\r\n        ? theme.palette.grey[200]\r\n        : theme.palette.grey[800]\r\n  }\r\n}));\r\n\r\nexport const AppLayout = () => {\r\n  const classes = useStyles();\r\n  const appConfig = useAppConfig();\r\n  const { components, drawer, dispalyAppBar } = appConfig;\r\n  const { Footer } = components;\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {drawer.display && <DrawerAsync />}\r\n      {dispalyAppBar && <AppBarAsync />}\r\n      <div className={classes.body}>\r\n        <div className={classes.content}>\r\n          {dispalyAppBar && <div className={classes.offset} />}\r\n          <Routes />\r\n        </div>\r\n        {Footer && <FooterAsync component={Footer} />}\r\n      </div>\r\n      <ToastContainer\r\n        position=\"top-center\"\r\n        hideProgressBar={true}\r\n        transition={Slide}\r\n        rtl={true}\r\n      />\r\n      {appConfig.analyticsProps && <Analytics {...appConfig.analyticsProps} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AppLayout;\r\n","import React from \"react\";\r\nimport { create } from \"jss\";\r\nimport rtl from \"jss-rtl\";\r\nimport {\r\n  createMuiTheme,\r\n  ThemeProvider,\r\n  ThemeOptions,\r\n  jssPreset,\r\n  StylesProvider\r\n} from \"@material-ui/core/styles\";\r\nimport { MuiPickersUtilsProvider } from \"@material-ui/pickers\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport JalaliUtils from \"@date-io/jalaali\";\r\nimport { AppConfig } from \"config\";\r\nimport { AppConfigProvider } from \"providers/Config\";\r\nimport { useAppTheme } from \"providers/Theme\";\r\nimport { DrawerProvider } from \"providers/Drawer\";\r\nimport AppLayout from \"containers/AppLayout\";\r\n\r\nconst DefaultTheme = { palette: {} };\r\n\r\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\r\n\r\nconst Root = ({ appConfig }: { appConfig: AppConfig }) => {\r\n  const { theme: themeConfig } = appConfig;\r\n  const { themeID, type } = useAppTheme();\r\n  const { themes } = themeConfig;\r\n  const selectedTheme = themes[themeID] || DefaultTheme;\r\n  const { palette = {} } = selectedTheme;\r\n  const options: ThemeOptions = {\r\n    direction: \"rtl\",\r\n    ...selectedTheme,\r\n    palette: { ...palette, type }\r\n  };\r\n  const theme = createMuiTheme(options);\r\n\r\n  return (\r\n    <StylesProvider jss={jss}>\r\n      <AppConfigProvider appConfig={appConfig}>\r\n        <ThemeProvider theme={theme}>\r\n          <DrawerProvider menu={{}}>\r\n            <MuiPickersUtilsProvider utils={JalaliUtils} locale=\"fa\">\r\n              <CssBaseline />\r\n              <AppLayout />\r\n            </MuiPickersUtilsProvider>\r\n          </DrawerProvider>\r\n        </ThemeProvider>\r\n      </AppConfigProvider>\r\n    </StylesProvider>\r\n  );\r\n};\r\n\r\nexport default Root;\r\n"],"names":["useContext","Context","React","config","__extends","Component","createContext","Provider","useState","Route","Redirect","Switch","makeStyles","ToastContainer","Slide","Analytics","create","jssPreset","createMuiTheme","StylesProvider","AppConfigProvider","ThemeProvider","DrawerProvider","MuiPickersUtilsProvider"],"mappings":"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"}